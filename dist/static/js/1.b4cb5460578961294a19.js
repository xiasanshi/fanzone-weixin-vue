webpackJsonp([1,3],{98:function(t,e,i){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=i(135),c=o(n),a=i(13),s=i(1);e.default={name:"citySelect",data:function(){return{addressSlots:[{flex:1,values:(0,c.default)(a.CITY),className:"slot1",textAlign:"center"},{divider:!0,content:"-",className:"slot2"},{flex:1,values:["北京"],className:"slot3",textAlign:"center"}],addressProvince:"北京",addressCity:"北京"}},components:{Picker:s.Picker},created:function(){},methods:{select:function(){this.$emit("select",{selectCity:this.addressCity})},noSelect:function(){this.$emit("noselect",{})},onAddressChange:function(t,e){t.setSlotValues(1,a.CITY[e[0]]),this.addressProvince=e[0],this.addressCity=e[1]}}}},123:function(t,e,i){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=i(14),c=o(n),a=i(2),s=i(22),r=o(s),l=i(74),d=o(l),p=i(243),u=o(p),A=i(1),f=i(3),g=o(f),x=i(23),h=o(x);e.default={name:"weather",data:function(){return{groupId:"",detail:{},teamMap:null}},components:{ToHome:h.default,citySelect:u.default,countDown:r.default,headUrl:d.default},created:function(){console.log("created"),this.groupId=this.$route.params.id,this.getTeamListByGroupId(),console.log("ddddd")},mounted:function(){console.log("cmounted"),document.title="聚汇 - 开团",this.getGrouponDetails(),g.default.wx_share("聚汇 - 开团","低价拼团",location.href)},methods:{toJoin:function(t){this.$router.push({name:"preJoin",path:"/preJoin",params:{id:t}})},getGrouponDetails:function(){var t=this,e={grouponId:this.groupId};A.Indicator.open("加载中..."),(0,a.getGrouponDetails)(e).then(function(e){"2000"==e.data.code?(t.detail=e.data.data,A.Indicator.close()):(A.Indicator.close(),(0,A.Toast)(e.data.msg))}),A.Indicator.close()},toPay:function(){g.default.payPrepare(),console.log("========开团========"),sessionStorage.setItem("payType","Fanzone"),sessionStorage.setItem("detail",(0,c.default)(this.detail)),this.$router.push({name:"payment",path:"/payment"})},getTeamListByGroupId:function(){var t=this,e={grouponId:this.groupId};A.Indicator.open("加载中..."),(0,a.getTeamListByGroupId)(e).then(function(e){"2000"==e.data.code?(null===e.data.data?t.teamMap=e.data.data:(t.teamMap=e.data.data[0],console.log("数据加载结束")),A.Indicator.close()):A.Indicator.close()})},onBridgeReady:function(t,e,i,o,n,c){console.log(t+"\t"+e+"\t"+i+"\t"+o+"\t"+n+"\t"+c),WeixinJSBridge.invoke("getBrandWCPayRequest",{appId:t,timeStamp:e,nonceStr:i,package:o,signType:"MD5",paySign:n},function(t){"get_brand_wcpay_request:ok"==t.err_msg?pay():location.reload()})}},watch:{$route:function(t,e){var i=t.id;console.log(i)}},filters:{formatGroupType:function(t){return"0"==t?"【全民参与】":"【老带新团】老用户可开团，新用户可参团/开团"},formatTime:function(t){var e=new Date(t);return e.getTime()},formatPeopCount:function(t,e){console.log("---------joins-------------"),console.log(t);for(var i in t)"FAIL"!==t[i].status&&(e-=1);return e},formatCreate:function(t){for(var e in t)if(t[e].isCreator)return t[e].userName;return null}}}},135:function(t,e,i){t.exports={default:i(143),__esModule:!0}},143:function(t,e,i){i(171),t.exports=i(5).Object.keys},160:function(t,e,i){var o=i(10),n=i(5),c=i(34);t.exports=function(t,e){var i=(n.Object||{})[t]||Object[t],a={};a[t]=e(i),o(o.S+o.F*c(function(){i(1)}),"Object",a)}},171:function(t,e,i){var o=i(43),n=i(61);i(160)("keys",function(){return function(t){return n(o(t))}})},180:function(t,e,i){e=t.exports=i(11)(),e.push([t.id,".ux-city-select{width:100%;height:100%;background-color:hsla(0,0%,4%,.55);position:fixed;top:0;bottom:0}.ux-city-select .ux-city-select-content{height:100%;width:100%;background-color:#fff;position:absolute;bottom:0;border-top:1px solid #999}.ux-city-select .ux-city-select-content .picker{margin-top:4.6875rem;height:14.6875rem}.ux-city-select .ux-city-select-content .picker .picker-item{color:#c8d0d9}.ux-city-select .ux-city-select-content .picker .picker-selected{color:#0843f6}.ux-city-select .ux-city-select-content .ux-city-select-content-text{margin-top:1.875rem;text-align:center;color:#18bba8;font-size:20px}.ux-city-select .ux-city-select-but{background-color:#254891;border:1px solid #ddd;border-radius:10px;height:3rem;line-height:3rem;width:80%;text-align:center;font-size:22px;color:#fff;margin:3.125rem auto 0}.ux-city-select .no-select{background-color:rgba(37,72,145,.4)}","",{version:3,sources:["/./src/components/CitySelect.vue"],names:[],mappings:"AACA,gBAAgB,WAAW,YAAY,mCAAqC,eAAe,MAAM,QAAQ,CACxG,AACD,wCAAwC,YAAY,WAAW,sBAAsB,kBAAkB,SAAS,yBAAyB,CACxI,AACD,gDAAgD,qBAAqB,iBAAiB,CACrF,AACD,6DAA6D,aAAa,CACzE,AACD,iEAAiE,aAAa,CAC7E,AACD,qEAAqE,oBAAoB,kBAAkB,cAAc,cAAc,CACtI,AACD,oCAAoC,yBAAyB,sBAAsB,mBAAmB,YAAY,iBAAiB,UAAU,kBAAkB,eAAe,WAAW,sBAAsB,CAC9M,AACD,2BAA2B,mCAAoC,CAC9D",file:"CitySelect.vue",sourcesContent:["\n.ux-city-select{width:100%;height:100%;background-color:rgba(10,10,10,0.55);position:fixed;top:0;bottom:0\n}\n.ux-city-select .ux-city-select-content{height:100%;width:100%;background-color:#fff;position:absolute;bottom:0;border-top:1px solid #999\n}\n.ux-city-select .ux-city-select-content .picker{margin-top:4.6875rem;height:14.6875rem\n}\n.ux-city-select .ux-city-select-content .picker .picker-item{color:#c8d0d9\n}\n.ux-city-select .ux-city-select-content .picker .picker-selected{color:#0843f6\n}\n.ux-city-select .ux-city-select-content .ux-city-select-content-text{margin-top:1.875rem;text-align:center;color:#18bba8;font-size:20px\n}\n.ux-city-select .ux-city-select-but{background-color:#254891;border:1px solid #ddd;border-radius:10px;height:3rem;line-height:3rem;width:80%;text-align:center;font-size:22px;color:#fff;margin:3.125rem auto 0\n}\n.ux-city-select .no-select{background-color:rgba(37,72,145,0.4)\n}\n"],sourceRoot:"webpack://"}])},181:function(t,e,i){e=t.exports=i(11)(),e.push([t.id,".page-weather{height:100%}.page-weather .page-weather-content{padding:1rem 0}.explain_info>div{margin-top:10px}.pd_title{padding-bottom:18px;height:40px;overflow:hidden;zoom:1;position:relative}.pd_title img{width:40px;border-radius:40px}.pd_title .pd-item-name,.pd_title img{height:40px;display:inline-block;float:left}.pd_title .pd-item-name{width:100px;color:#8f8f95;font-size:16px;margin-left:20px;line-height:40px;overflow:hidden;text-overflow:ellipsis;-o-text-overflow:ellipsis;white-space:nowrap}","",{version:3,sources:["/./src/pages/preGroupon.vue"],names:[],mappings:"AACA,cAAc,WAAW,CACxB,AACD,oCAAoC,cAAc,CACjD,AACD,kBAAkB,eAAe,CAChC,AACD,UAAU,oBAAoB,YAAY,gBAAgB,OAAO,iBAAiB,CACjF,AACD,cAAc,WAAW,AAAY,kBAAmB,CACvD,AACD,sCAFyB,YAAY,AAAmB,qBAAqB,UAAU,CAGtF,AADD,wBAA6C,YAAY,AAAuB,cAAc,eAAe,iBAAiB,iBAAiB,gBAAgB,uBAAuB,0BAA0B,kBAAkB,CACjO",file:"preGroupon.vue",sourcesContent:["\n.page-weather{height:100%\n}\n.page-weather .page-weather-content{padding:1rem 0\n}\n.explain_info>div{margin-top:10px\n}\n.pd_title{padding-bottom:18px;height:40px;overflow:hidden;zoom:1;position:relative\n}\n.pd_title img{width:40px;height:40px;border-radius:40px;display:inline-block;float:left\n}\n.pd_title .pd-item-name{display:inline-block;width:100px;height:40px;float:left;color:#8F8F95;font-size:16px;margin-left:20px;line-height:40px;overflow:hidden;text-overflow:ellipsis;-o-text-overflow:ellipsis;white-space:nowrap\n}\n"],sourceRoot:"webpack://"}])},207:function(t,e,i){var o=i(180);"string"==typeof o&&(o=[[t.id,o,""]]);i(12)(o,{});o.locals&&(t.exports=o.locals)},210:function(t,e,i){var o=i(181);"string"==typeof o&&(o=[[t.id,o,""]]);i(12)(o,{});o.locals&&(t.exports=o.locals)},243:function(t,e,i){var o,n;i(207),o=i(98);var c=i(289);n=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(n=o=o.default),"function"==typeof n&&(n=n.options),n.render=c.render,n.staticRenderFns=c.staticRenderFns,t.exports=o},261:function(t,e,i){var o,n;i(210),o=i(123);var c=i(292);n=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(n=o=o.default),"function"==typeof n&&(n=n.options),n.render=c.render,n.staticRenderFns=c.staticRenderFns,t.exports=o},289:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ux-city-select"},[i("div",{staticClass:"ux-city-select-content"},[i("mt-picker",{attrs:{slots:t.addressSlots,"visible-item-count":5},on:{change:t.onAddressChange}}),t._v(" "),i("p",{staticClass:"ux-city-select-content-text"},[t._v("切换为："+t._s(t.addressProvince)+"--"+t._s(t.addressCity)+"市")]),t._v(" "),i("div",{staticClass:"ux-city-select-but",on:{touchend:t.select}},[t._v("切换城市")]),t._v(" "),i("div",{staticClass:"ux-city-select-but no-select",on:{touchend:t.noSelect}},[t._v("取消切换")])],1)])},staticRenderFns:[]}},292:function(t,e,i){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"page-weather page",staticStyle:{height:"100%"}},[o("mt-swipe",{staticClass:"swipe",staticStyle:{height:"180px",width:"100%"},attrs:{auto:4e3}},[o("mt-swipe-item",{staticClass:"swipe-item3",staticStyle:{height:"180px",width:"100%"}},[o("img",{staticStyle:{height:"180px",width:"100%"},attrs:{src:i(73)}})])],1),t._v(" "),o("div",{staticStyle:{"margin-top":"0px"}},[o("div",{staticClass:"explain_info",staticStyle:{"background-color":"#ffffff",padding:"10px"}},[o("div",{staticStyle:{color:"#333333","font-size":"16px"}},[t._v("  "+t._s(t.detail.option)+" | "+t._s(t.detail.name))]),t._v(" "),o("div",{staticStyle:{color:"#FF0000"}},[t._v("\n                "+t._s(t._f("formatGroupType")(t.detail.groupType))+"\n                ")]),t._v(" "),o("div",{staticStyle:{color:"#999999"}},[t._v("* 说明：需进店消费，核销")]),t._v(" "),o("div",[o("span",{staticStyle:{"font-size":"18px",color:"#FF0000"}},[t._v("￥"+t._s(t.detail.activityPrice))]),t._v(" "),o("s",{staticStyle:{"font-size":"14px",color:"#999999"}},[t._v("￥"+t._s(t.detail.salePrice))])])]),t._v(" "),o("div",{staticClass:"explain_info color_999",staticStyle:{"background-color":"#EEFCEE",padding:"10px"}},[o("div",{staticStyle:{color:"#333333","font-size":"16px"}},[t._v(" *拼团玩法")]),t._v(" "),o("div",{},[t._v("1、选择商品，开团或拼团")]),t._v(" "),o("div",{},[t._v("2、付款后邀请好友参团")]),t._v(" "),o("div",{},[t._v("3、达到拼团人数，顺利开团")]),t._v(" "),o("div",{},[t._v("4、若"+t._s(t.detail.grouponEffectiveTime)+"小时内拼团不成功，全额退款")])]),t._v(" "),null!==t.teamMap?o("div",{staticClass:"explain_info",staticStyle:{"background-color":"#ffffff",padding:"10px"}},[o("div",[o("mt-cell",{attrs:{title:"正在进行的拼团",to:{name:"join"},"is-link":""}},[o("span",{staticClass:"color_groupon"},[t._v("更多")])])],1),t._v(" "),o("div",{staticClass:"pd_title",on:{click:function(e){t.toJoin(t.teamMap.id)}}},[o("head-url",{staticStyle:{width:"40px",height:"40px","border-radius":"40px",display:"inline-block",float:"left"},attrs:{"join-list":t.teamMap.joins}}),t._v("\n                  \n                "),o("span",{staticStyle:{"font-size":"16px",color:"#666666"}},[t._v(t._s(t._f("formatCreate")(t.teamMap.joins)))]),t._v(" \n                "),o("span",{staticClass:"color_groupon",staticStyle:{"font-size":"10px",padding:"5px"}},[t._v(t._s(t.teamMap.grouponNum)+"人团")]),t._v(" "),o("div",{staticStyle:{"font-size":"12px",color:"#999999"}},[t._v("\n                       "),o("span",[t._v("还差")]),o("span",{staticStyle:{color:"#ff0000"}},[t._v(t._s(t._f("formatPeopCount")(t.teamMap.joins,t.teamMap.grouponNum)))]),o("span",[t._v("人开团")]),t._v(" \n                    "),t._v(" "),o("div",{staticStyle:{display:"inline"}},[o("count-down",{attrs:{endTime:t.teamMap.endTime,endText:"已经结束了"}})],1)]),t._v(" "),o("div",{staticStyle:{color:"#ffffff","background-color":"#FF9933",padding:"5px","font-size":"16px",height:"30px","line-height":"30px","text-align":"center",position:"absolute",right:"1px",bottom:"20px"}},[t._v("\n                    "+t._s(t.teamMap.teamPrice)+"元拼团\n                ")])],1)]):t._e()]),t._v(" "),o("div",{staticStyle:{height:"50px"}}),t._v(" "),o("div",{staticStyle:{position:"fixed",bottom:"0px",height:"50px","background-color":"#ffffff",width:"100%","text-align":"center","line-height":"50px","border-top":"#cccccc 1px"}},[o("div",{staticStyle:{float:"left","line-height":"50px","text-align":"center",width:"40%",height:"50px",color:"#FF0000","font-size":"25px"}},[t._v("\n            ￥"+t._s(t.detail.activityPrice)+"\n        ")]),t._v(" "),o("div",{staticStyle:{float:"left",height:"50px","background-color":"#FF9933",color:"#ffffff","line-height":"50px","text-align":"center",width:"60%"},on:{click:function(e){t.toPay()}}},[t._v("\n            发起拼团\n        ")])]),t._v(" "),o("to-home"),t._v(" "),o("div",{staticStyle:{height:"50px",width:"100%"}})],1)},staticRenderFns:[]}}});
//# sourceMappingURL=1.b4cb5460578961294a19.js.map